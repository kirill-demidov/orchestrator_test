# Оркестрация сервисов

Этот проект содержит конфигурацию Docker Compose для оркестрации сервисов с веб-интерфейсом управления.

## Требования

- Docker
- Docker Compose

## Установка и запуск

1. Скопируйте все файлы проекта в рабочую директорию
2. Убедитесь, что у вас есть файл `requirements.txt` со всеми необходимыми зависимостями
3. Запустите все сервисы:

```bash
docker-compose up -d
```

## Управление через Portainer

После запуска сервисов, Portainer будет доступен по адресу:
```
http://[IP-адрес-сервера]:9000
```

При первом входе в Portainer:
1. Создайте учетную запись администратора
2. Выберите "Local Docker Environment"
3. Теперь вы можете управлять всеми контейнерами через веб-интерфейс

## Доступные сервисы

- llm_server (порт 8001)
- import_meteo (порт 8002)
- geoeco (порт 8003)

## Управление через командную строку

- Запуск всех сервисов:
```bash
docker-compose up -d
```

- Остановка всех сервисов:
```bash
docker-compose down
```

- Просмотр логов:
```bash
docker-compose logs -f [имя_сервиса]
```

- Перезапуск конкретного сервиса:
```bash
docker-compose restart [имя_сервиса]
```

## Автоматическое обновление

Проект включает Watchtower для автоматического обновления контейнеров. Обновления проверяются раз в сутки.

## Безопасность

- Portainer настроен с ограниченными привилегиями
- Все сервисы изолированы в отдельных контейнерах
- Используется политика перезапуска unless-stopped 